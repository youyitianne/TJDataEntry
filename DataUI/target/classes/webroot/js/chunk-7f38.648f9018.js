(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7f38"],{"41Be":function(t,e,a){"use strict";a.d(e,"a",function(){return i});var s=a("Q2AE");function i(t){if(t&&t instanceof Array&&t.length>0){var e=t;return!!(s.a.getters&&s.a.getters.roles).some(function(t){return e.includes(t)})}return!1}},Nq39:function(t,e,a){"use strict";var s=a("qFCC");a.n(s).a},OD91:function(t,e,a){"use strict";a.r(e);a("ZySA"),a("7Qib"),a("41Be");var s=a("t3Un");var i={filters:{statusFilter:function(t){return{published:"success",draft:"gray",deleted:"danger"}[t]}},data:function(){return{checked:!0,checked1:!1,dataForm:{name:"",version:"",mark:""},secondary_sdk_name:"",secondary_sdk_mark:"",chooseName:"选择游戏",tableData:[],pickerOptions0:{disabledDate:function(t){return t.getTime()>Date.now()-864e4}},layout:"",hidtimevalue:"",tableKey:0,list:null,total:0,listLoading:!1,listQuery:{importance:void 0,title:void 0,type:void 0},listParam:{start:"",end:""},names:[],sortOptions:[{label:"ID Ascending",key:"+id"},{label:"ID Descending",key:"-id"}],dialogStatus:"",dialogFormVisible:!1,textMap:{update:"编辑",create:"创建"},sdk:{id:"",name:"",version:"",mark:"",sdkstatus:"0",form:{domains:[]}},hidlist:""}},created:function(){this.listdata()},methods:{validUpdate:function(t){"0"===this.sdk.sdkstatus&&(this.sdk.id=t.id,this.sdk.form.domains=t.paramter,this.sdk.name=t.sdk_name,this.sdk.mark=t.sdk_mark,this.sdk.sdkstatus=t.sdk_status,this.sdk.version=t.sdk_version,this.sdk.sdkstatus="1",this.updateData(),this.listdata())},invalidUpdate:function(t){"1"===this.sdk.sdkstatus&&(this.sdk.id=t.id,this.sdk.form.domains=t.paramter,this.sdk.name=t.sdk_name,this.sdk.mark=t.sdk_mark,this.sdk.sdkstatus=t.sdk_status,this.sdk.version=t.sdk_version,this.sdk.sdkstatus="0",this.updateData(),this.listdata())},listdata:function(){var t=this,e=this;e.listLoading=!0,Object(s.a)({url:"/api/sdk",method:"get"}).then(function(a){console.log(a.data),t.list=a.data,t.hidlist=a.data,t.getDatawithParam(),e.listLoading=!1}).catch(function(t){e.$notify({title:"失败",message:"获取sdk模版列表失败",type:"error",duration:2e3})})},change:function(){this.getDatawithParam()},createData:function(){var t=this,e=this;this.valideSdkForm()&&this.$refs.dataForm.validate(function(a){if(!a)return!1;console.log(t.sdk),function(t){return Object(s.a)({url:"/api/sdk",method:"post",data:t})}(t.sdk).then(function(e){t.$notify({title:"成功",message:"添加成功",type:"success",duration:2e3}),t.listdata(),t.dialogFormVisible=!1}).catch(function(t){e.$notify({title:"失败",message:"添加失败",type:"error",duration:2e3})}),t.dialogFormVisible=!1})},removeDomain:function(t){var e=this.sdk.form.domains.indexOf(t);-1!==e&&this.sdk.form.domains.splice(e,1)},addDomain:function(){this.sdk.form.domains.push({key:"",param_name:"",param:"无",note:"暂无"})},resetTemp:function(){this.sdk={id:"",name:"",version:"",mark:"",sdkstatus:"0",form:{domains:[]}}},handleCreate:function(){var t=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick(function(){t.$refs.dataForm.clearValidate()})},valideSdkForm:function(){for(var t=[],e=0;e<this.sdk.form.domains.length;e++)""!==this.sdk.form.domains[e].sdk_paramter_name&&""!==this.sdk.form.domains[e].sdk_note||t.push(e+1);return 0==t.length||(this.$notify({title:"警告！",message:"第"+t+"条参数存在空值",type:"error",duration:2e3}),!1)},handleUpdate:function(t){this.sdk.id=t.id,this.sdk.form.domains=t.paramter,this.sdk.name=t.sdk_name,this.sdk.mark=t.sdk_mark,this.sdk.sdkstatus=t.sdk_status,this.sdk.version=t.sdk_version,this.dialogStatus="update",this.dialogFormVisible=!0},updateData:function(){var t=this;this.valideSdkForm(),function(t){return Object(s.a)({url:"/api/sdk/"+t.id,method:"patch",data:t})}(this.sdk).then(function(e){t.listdata(),t.listLoading=!1,t.dialogFormVisible=!1}).catch(function(t){console.error(t)})},getDatawithParam:function(){this.listLoading=!0;for(var t=this.secondary_sdk_name,e=[],a=0;a<this.hidlist.length;a++)-1!=this.hidlist[a].sdk_name.search(t)&&e.push(this.hidlist[a]);for(var s=this.secondary_sdk_mark,i=[],n=0;n<e.length;n++)-1!=e[n].sdk_mark.search(s)&&i.push(e[n]);var r=this.checked,l=[];if(!0===r)for(var o=0;o<i.length;o++)"1"===i[o].sdk_status&&l.push(i[o]);else l=i;var d=this.checked1,c=[];if(!0===d)for(var u=0;u<l.length;u++)"0"===l[u].sdk_status&&c.push(l[u]);else c=l;!0===d&&!0===r&&(c=i),this.list=c,this.listLoading=!1},formatDate:function(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var s in a)if(new RegExp("("+s+")").test(e)){var i=a[s]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?i:this.padLeftZero(i))}return e},padLeftZero:function(t){return("00"+t).substr(t.length)}}},n=(a("Nq39"),a("KHd+")),r=Object(n.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container",staticStyle:{margin:"15px","margin-top":"-5px"}},[a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px","margin-right":"20px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.handleCreate}},[t._v("添加SDK\n    ")]),t._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px","margin-top":"10px","margin-left":"10px"},attrs:{placeholder:"根据SDK名称二次筛选",clearable:""},on:{blur:t.getDatawithParam},model:{value:t.secondary_sdk_name,callback:function(e){t.secondary_sdk_name=e},expression:"secondary_sdk_name"}}),t._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px","margin-top":"10px","margin-left":"20px"},attrs:{placeholder:"根据SDK标记二次筛选",clearable:""},on:{blur:t.getDatawithParam},model:{value:t.secondary_sdk_mark,callback:function(e){t.secondary_sdk_mark=e},expression:"secondary_sdk_mark"}}),t._v(" "),a("el-checkbox",{staticStyle:{"margin-left":"15px"},attrs:{border:""},on:{change:t.change},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("展示有效")]),t._v(" "),a("el-checkbox",{staticStyle:{"margin-left":"15px"},attrs:{border:""},on:{change:t.change},model:{value:t.checked1,callback:function(e){t.checked1=e},expression:"checked1"}},[t._v("展示无效")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",fit:"",border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"sdk名称:"}},[a("span",[t._v(t._s(e.row.sdk_name))])]),t._v(" "),a("el-form-item",{attrs:{label:"sdk标记:"}},[a("span",[t._v(t._s(e.row.sdk_mark))])]),t._v(" "),a("el-form-item",{attrs:{label:"版本:"}},[a("span",[t._v(t._s(e.row.sdk_version))])]),t._v(" "),a("el-form-item",{attrs:{label:"状态:"}},["0"===e.row.sdk_status?a("span",[a("el-button",{attrs:{size:"mini",type:"danger"}},[t._v("无效")])],1):t._e(),t._v(" "),"1"===e.row.sdk_status?a("span",[a("el-button",{attrs:{size:"mini",type:"success"}},[t._v("有效")])],1):t._e()])],1),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{data:e.row.paramter}},[a("el-table-column",{staticStyle:{width:"15%"},attrs:{prop:"sdk_paramter_name",label:"参数名"}}),t._v(" "),a("el-table-column",{staticStyle:{width:"30%"},attrs:{prop:"sdk_note",label:"说明"}})],1)],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"序号",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(++e.$index)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"SDK名称",prop:"sdk_name"}}),t._v(" "),a("el-table-column",{attrs:{label:"SDK标记",prop:"sdk_mark"}}),t._v(" "),a("el-table-column",{attrs:{label:"版本",prop:"sdk_version"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",width:"230","class-name":"small-padding fixed-width",prop:"sdk_status"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"===e.row.sdk_status?a("el-button",{attrs:{size:"mini",type:"success"}},[t._v("有效")]):t._e(),t._v(" "),"0"===e.row.sdk_status?a("el-button",{attrs:{size:"mini",type:"danger"}},[t._v("无效")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"230","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.handleUpdate(e.row)}}},[t._v(t._s("编辑"))]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){t.validUpdate(e.row)}}},[t._v("有效")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.invalidUpdate(e.row)}}},[t._v("无效")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible,width:"80%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"dataForm",staticStyle:{"margin-left":"50px"},attrs:{model:t.sdk,"label-position":"left","label-width":"300px",inline:!0,"status-icon":""}},[a("el-form-item",{attrs:{label:"名称",rules:[{required:!0,message:"名称不能为空"}],prop:"name"}},[a("el-input",{staticClass:"dia-input",attrs:{placeholder:"必填~"},model:{value:t.sdk.name,callback:function(e){t.$set(t.sdk,"name",e)},expression:"sdk.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"版本",rules:[{required:!0,message:"版本不能为空"}],prop:"version"}},[a("el-input",{staticClass:"dia-input",attrs:{placeholder:"必填~"},model:{value:t.sdk.version,callback:function(e){t.$set(t.sdk,"version",e)},expression:"sdk.version"}})],1),t._v(" "),a("el-form-item",{staticClass:"filter-item",attrs:{label:"标记",rules:[{required:!0,message:"标记不能为空"}],prop:"mark"}},[a("el-input",{staticClass:"dia-input",attrs:{placeholder:"必填~"},model:{value:t.sdk.mark,callback:function(e){t.$set(t.sdk,"mark",e)},expression:"sdk.mark"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":"1","inactive-value":"0","active-text":"有效","inactive-text":"无效"},model:{value:t.sdk.sdkstatus,callback:function(e){t.$set(t.sdk,"sdkstatus",e)},expression:"sdk.sdkstatus"}})],1),t._v(" "),a("br"),t._v(" "),a("el-button",{staticStyle:{"margin-bottom":"15px"},attrs:{type:"primary"},on:{click:t.addDomain}},[t._v("新增")]),t._v(" "),a("br"),t._v(" "),t._l(t.sdk.form.domains,function(e,s){return a("el-form-item",{key:e.key+s},[a("div",[a("span",{staticStyle:{"font-weight":"700","font-family":"Microsoft YaHei",font:"14px bolder",color:"#606266"}},[t._v("参数名：")]),t._v(" "),a("el-input",{staticStyle:{width:"150px","margin-right":"5px"},attrs:{placeholder:"必填"},model:{value:e.sdk_paramter_name,callback:function(a){t.$set(e,"sdk_paramter_name",a)},expression:"domain.sdk_paramter_name"}}),t._v(" "),a("span",{staticStyle:{"font-weight":"900","font-family":"Microsoft YaHei",font:"14px bolder",color:"#606266"}},[t._v("备注：")]),t._v(" "),a("el-input",{staticStyle:{width:"500px","margin-right":"5px"},attrs:{type:"textarea",placeholder:"必填"},model:{value:e.sdk_note,callback:function(a){t.$set(e,"sdk_note",a)},expression:"domain.sdk_note"}}),t._v(" "),a("el-button",{staticClass:"el-button el-button--danger el-button--mini",staticStyle:{"margin-right":"35px"},on:{click:function(a){a.preventDefault(),t.removeDomain(e)}}},[t._v("删除\n          ")])],1)])})],2),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(t._s("取消"))]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.dialogStatus?t.createData():t.updateData()}}},[t._v(t._s("确认"))])],1)],1)],1)},[],!1,null,null,null);r.options.__file="sdklisttable.vue";e.default=r.exports},ZySA:function(t,e,a){"use strict";var s=a("P2sY"),i=a.n(s),n=(a("jUE0"),{bind:function(t,e){t.addEventListener("click",function(a){var s=i()({},e.value),n=i()({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},s),r=n.ele;if(r){r.style.position="relative",r.style.overflow="hidden";var l=r.getBoundingClientRect(),o=r.querySelector(".waves-ripple");switch(o?o.className="waves-ripple":((o=document.createElement("span")).className="waves-ripple",o.style.height=o.style.width=Math.max(l.width,l.height)+"px",r.appendChild(o)),n.type){case"center":o.style.top=l.height/2-o.offsetHeight/2+"px",o.style.left=l.width/2-o.offsetWidth/2+"px";break;default:o.style.top=(a.pageY-l.top-o.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",o.style.left=(a.pageX-l.left-o.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return o.style.backgroundColor=n.color,o.className="waves-ripple z-active",!1}},!1)}}),r=function(t){t.directive("waves",n)};window.Vue&&(window.waves=n,Vue.use(r)),n.install=r;e.a=n},jUE0:function(t,e,a){},qFCC:function(t,e,a){}}]);