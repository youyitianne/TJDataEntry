(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4f4f"],{"3Gho":function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"g",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return r}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return c});var a=n("t3Un");function o(){return Object(a.a)({url:"/names",method:"get"})}function i(e){return Object(a.a)({url:"/file",method:"post",data:e,responseType:"blob"})}function s(e){return Object(a.a)({url:"/api/getresourcelist",method:"post",params:e})}function r(e){return Object(a.a)({url:"/arpufile/"+e.start+"_"+e.end,method:"post",responseType:"blob",params:e,data:e})}function d(){return Object(a.a)({url:"/projectList",method:"get"})}function l(e){return Object(a.a)({url:"/daily",method:"post",responseType:"blob",data:e})}function c(e){return Object(a.a)({url:"/dailyadtype",method:"post",responseType:"blob",data:e})}},"41Be":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("Q2AE");function o(e){if(e&&e instanceof Array&&e.length>0){var t=e;return!!(a.a.getters&&a.a.getters.roles).some(function(e){return t.includes(e)})}return!1}},"W+dE":function(e,t,n){"use strict";n.r(t);var a=n("QbLZ"),o=n.n(a),i=n("3Gho"),s=n("ZySA"),r=n("7Qib"),d=n("41Be"),l=n("L2JU"),c={directives:{waves:s.a},computed:o()({},Object(l.b)(["name","roles"])),filters:{statusFilter:function(e){return{published:"success",draft:"gray",deleted:"danger"}[e]}},data:function(){return{daily_download_value:[],app_name_list:[],secondary_project:"选择项目",hackReset:!1,pickerOptions0:{disabledDate:function(e){return e.getTime()>Date.now()-864e4}},directives:{waves:s.a},downloadLoading:!1,download_value:"",downloadParam:{start:void 0,end:void 0,name:void 0,namelist:"",list:[]},list:null,listLoading:!0,names:[]}},created:function(){this.fetchName(),this.fetchProject()},methods:{daily_download:function(){var e=this,t=this;if(null!==this.daily_download_value)if(void 0!==this.daily_download_value[0])if(void 0!==this.daily_download_value[1]){this.downloadLoading=!0;var n={start:this.daily_download_value[0],end:this.daily_download_value[1],list:this.app_name_list};Object(i.b)(n).then(function(t){if(t){var a=window.URL.createObjectURL(new Blob([t])),o=document.createElement("a");o.style.display="none",o.href=a,o.setAttribute("download",n.start+"_"+n.end+"_产品收益表.xls"),document.body.appendChild(o),o.click(),e.downloadLoading=!1}}).catch(function(e){console.log(e.toString()),t.downloadLoading=!1,t.$notify({title:"下载失败",message:"刷新试试",type:"error",duration:2e3})})}else this.open3();else this.open3();else this.open3()},fetchProject:function(){var e=this,t=this;this.listLoading=!0,Object(i.d)().then(function(t){e.app_name_list=t.data}).catch(function(e){console.log(e),t.listLoading=!1})},fetchName:function(){var e=this;if(Object(d.a)(["admin","leader","operator"])){var t=this;this.listLoading=!0,Object(i.c)().then(function(t){e.names=t.data,e.listLoading=!1}).catch(function(e){t.listLoading=!1,console.log(e)})}else{var n={username:this.name},a=this;this.listLoading=!0,Object(i.e)(n).then(function(t){e.names=t.data,e.listLoading=!1}).catch(function(e){a.listLoading=!1,console.error(e)})}},handleDownloadAll:function(){null!==this.download_value?(this.downloadParam.start=this.download_value[0],this.downloadParam.end=this.download_value[1],this.downloadParam.name=this.secondary_project,"选择项目"!==this.downloadParam.name&&void 0!==this.downloadParam.start&&void 0!==this.downloadParam.end?this.hackReset=!0:this.open3()):this.open3()},checkPermission:d.a,parseTime:r.c,getdate:function(e,t){var n=[];for(n.push("全部"),n.push(this.formatDate(e,"yyyy-MM-dd"));e.setDate(e.getDate()+1),e.getTime()<t.getTime();)n.push(this.formatDate(e,"yyyy-MM-dd"));return n.includes(this.formatDate(t,"yyyy-MM-dd"))||n.push(this.formatDate(t,"yyyy-MM-dd")),n},formatDate:function(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var a in n)if(new RegExp("("+a+")").test(t)){var o=n[a]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?o:this.padLeftZero(o))}return t},padLeftZero:function(e){return("00"+e).substr(e.length)},open3:function(){this.$message({message:"请选择查询范围~",type:"warning"})}}},u=n("KHd+"),p=Object(u.a)(c,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[e.checkPermission(["admin","operator","leader"])?n("div",{staticClass:"filter-container",staticStyle:{margin:"15px","margin-top":"-5px"}},[n("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions0},model:{value:e.daily_download_value,callback:function(t){e.daily_download_value=t},expression:"daily_download_value"}},[e._v(">\n    ")]),e._v(" "),n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{loading:e.downloadLoading,type:"primary",icon:"el-icon-download"},on:{click:e.daily_download}},[e._v("\n      "+e._s("下载收益表")+"\n    ")]),e._v(" "),n("br")],1):e._e()])},[],!1,null,null,null);p.options.__file="earnedtable.vue";t.default=p.exports},ZySA:function(e,t,n){"use strict";var a=n("P2sY"),o=n.n(a),i=(n("jUE0"),{bind:function(e,t){e.addEventListener("click",function(n){var a=o()({},t.value),i=o()({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},a),s=i.ele;if(s){s.style.position="relative",s.style.overflow="hidden";var r=s.getBoundingClientRect(),d=s.querySelector(".waves-ripple");switch(d?d.className="waves-ripple":((d=document.createElement("span")).className="waves-ripple",d.style.height=d.style.width=Math.max(r.width,r.height)+"px",s.appendChild(d)),i.type){case"center":d.style.top=r.height/2-d.offsetHeight/2+"px",d.style.left=r.width/2-d.offsetWidth/2+"px";break;default:d.style.top=(n.pageY-r.top-d.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",d.style.left=(n.pageX-r.left-d.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return d.style.backgroundColor=i.color,d.className="waves-ripple z-active",!1}},!1)}}),s=function(e){e.directive("waves",i)};window.Vue&&(window.waves=i,Vue.use(s)),i.install=s;t.a=i},jUE0:function(e,t,n){}}]);