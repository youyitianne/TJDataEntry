(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6e38"],{"41Be":function(t,a,i){"use strict";i.d(a,"a",function(){return s});var e=i("Q2AE");function s(t){if(t&&t instanceof Array&&t.length>0){var a=t;return!!(e.a.getters&&e.a.getters.roles).some(function(t){return a.includes(t)})}return!1}},"7BsA":function(t,a,i){t.exports=function(t){function a(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}var i={};return a.m=t,a.c=i,a.i=function(t){return t},a.d=function(t,i,e){a.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:e})},a.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(i,"a",i),i},a.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},a.p="/dist/",a(a.s=2)}([function(t,a,i){var e=i(4)(i(1),i(5),null,null);t.exports=e.exports},function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=i(3);a.default={props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator:function(t){return t>=0}},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default:function(t,a,i,e){return i*(1-Math.pow(2,-10*t/e))*1024/1023+a}}},data:function(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown:function(){return this.startVal>this.endVal}},watch:{startVal:function(){this.autoplay&&this.start()},endVal:function(){this.autoplay&&this.start()}},mounted:function(){this.autoplay&&this.start(),this.$emit("mountedCallback")},methods:{start:function(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=(0,e.requestAnimationFrame)(this.count)},pauseResume:function(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause:function(){(0,e.cancelAnimationFrame)(this.rAF)},resume:function(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,(0,e.requestAnimationFrame)(this.count)},reset:function(){this.startTime=null,(0,e.cancelAnimationFrame)(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count:function(t){this.startTime||(this.startTime=t),this.timestamp=t;var a=t-this.startTime;this.remaining=this.localDuration-a,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(a,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(a,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(a/this.localDuration):this.printVal=this.localStartVal+(this.localStartVal-this.startVal)*(a/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),a<this.localDuration?this.rAF=(0,e.requestAnimationFrame)(this.count):this.$emit("callback")},isNumber:function(t){return!isNaN(parseFloat(t))},formatNumber:function(t){t=t.toFixed(this.decimals);var a=(t+="").split("."),i=a[0],e=a.length>1?this.decimal+a[1]:"",s=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))for(;s.test(i);)i=i.replace(s,"$1"+this.separator+"$2");return this.prefix+i+e+this.suffix}},destroyed:function(){(0,e.cancelAnimationFrame)(this.rAF)}}},function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=i(0),s=function(t){return t&&t.__esModule?t:{default:t}}(e);a.default=s.default,"undefined"!=typeof window&&window.Vue&&window.Vue.component("count-to",s.default)},function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=0,s="webkit moz ms o".split(" "),n=void 0,r=void 0;if("undefined"==typeof window)a.requestAnimationFrame=n=function(){},a.cancelAnimationFrame=r=function(){};else{a.requestAnimationFrame=n=window.requestAnimationFrame,a.cancelAnimationFrame=r=window.cancelAnimationFrame;for(var l=void 0,o=0;o<s.length&&(!n||!r);o++)l=s[o],a.requestAnimationFrame=n=n||window[l+"RequestAnimationFrame"],a.cancelAnimationFrame=r=r||window[l+"CancelAnimationFrame"]||window[l+"CancelRequestAnimationFrame"];n&&r||(a.requestAnimationFrame=n=function(t){var a=(new Date).getTime(),i=Math.max(0,16-(a-e)),s=window.setTimeout(function(){t(a+i)},i);return e=a+i,s},a.cancelAnimationFrame=r=function(t){window.clearTimeout(t)})}a.requestAnimationFrame=n,a.cancelAnimationFrame=r},function(t,a){t.exports=function(t,a,i,e){var s,n=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(s=t,n=t.default);var l="function"==typeof n?n.options:n;if(a&&(l.render=a.render,l.staticRenderFns=a.staticRenderFns),i&&(l._scopeId=i),e){var o=Object.create(l.computed||null);Object.keys(e).forEach(function(t){var a=e[t];o[t]=function(){return a}}),l.computed=o}return{esModule:s,exports:n,options:l}}},function(t,a){t.exports={render:function(){var t=this,a=t.$createElement;return(t._self._c||a)("span",[t._v("\n  "+t._s(t.displayValue)+"\n")])},staticRenderFns:[]}}])},"7WQt":function(t,a,i){"use strict";i.r(a);var e=i("7BsA"),s=i.n(e),n={components:{Index:i("9TPh").a,CountTo:s.a},props:{statistical_data:{type:Object,default:"765"}},data:function(){return{}},mounted:function(){},methods:{handleSetLineChartData:function(t){this.$emit("handleSetLineChartData",t)}}},r=(i("Cnfv"),i("KHd+")),l=Object(r.a)(n,function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[i("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[i("div",{staticClass:"card-panel",on:{click:function(a){t.handleSetLineChartData("newVisitis")}}},[i("div",{staticClass:"card-panel-icon-wrapper icon-people"},[i("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1),t._v(" "),i("div",{staticClass:"card-panel-description"},[i("div",{staticClass:"card-panel-text"},[t._v("新增用户")]),t._v(" "),i("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":this.statistical_data.newuser,duration:10}})],1),t._v(" "),i("div",{staticStyle:{"margin-top":"20px","margin-left":"50px","font-size":"14px","font-weight":"bolder"}},[t._v("\n          对比新增用户："+t._s(t.statistical_data.contrast_newuser)),i("br"),i("br"),t._v("\n          同比:"),t.statistical_data.newuser_change<0?i("span",{staticStyle:{color:"hotpink"}},[t._v("\n        ↘  "+t._s(t.statistical_data.newuser_change)+"%")]):t._e(),t.statistical_data.newuser_change>0?i("span",{staticStyle:{color:"limegreen"}},[t._v("\n        ↗  "+t._s(t.statistical_data.newuser_change)+"%")]):t._e()])])]),t._v(" "),i("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[i("div",{staticClass:"card-panel",on:{click:function(a){t.handleSetLineChartData("messages")}}},[i("div",{staticClass:"card-panel-icon-wrapper icon-message"},[i("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1),t._v(" "),i("div",{staticClass:"card-panel-description"},[i("div",{staticClass:"card-panel-text"},[t._v("活跃用户")]),t._v(" "),i("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":this.statistical_data.activeuser,duration:10}})],1),t._v(" "),i("div",{staticStyle:{"margin-top":"20px","margin-left":"50px","font-size":"14px","font-weight":"bolder"}},[t._v("\n        对比活跃用户："+t._s(t.statistical_data.contrast_activeuser)),i("br"),i("br"),t._v("\n        同比:"),t.statistical_data.activeuser_change<0?i("span",{staticStyle:{color:"hotpink"}},[t._v("\n        ↘  "+t._s(t.statistical_data.activeuser_change)+"%")]):t._e(),t.statistical_data.activeuser_change>0?i("span",{staticStyle:{color:"limegreen"}},[t._v("\n        ↗  "+t._s(t.statistical_data.activeuser_change)+"%")]):t._e()])])]),t._v(" "),i("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[i("div",{staticClass:"card-panel",on:{click:function(a){t.handleSetLineChartData("purchases")}}},[i("div",{staticClass:"card-panel-icon-wrapper icon-money"},[i("svg-icon",{attrs:{"icon-class":"documentation","class-name":"card-panel-icon"}})],1),t._v(" "),i("div",{staticClass:"card-panel-description"},[i("div",{staticClass:"card-panel-text"},[t._v("总展次")]),t._v(" "),i("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":this.statistical_data.showtimes,duration:10}})],1),t._v(" "),i("div",{staticStyle:{"margin-top":"20px","margin-left":"50px","font-size":"14px","font-weight":"bolder"}},[t._v("\n        对比总展次："+t._s(t.statistical_data.contrast_showtimes)),i("br"),i("br"),t._v("\n        同比:"),t.statistical_data.showtimes_change<0?i("span",{staticStyle:{color:"hotpink"}},[t._v("\n          ↘  "+t._s(t.statistical_data.showtimes_change)+"%")]):t._e(),t.statistical_data.showtimes_change>0?i("span",{staticStyle:{color:"limegreen"}},[t._v("\n          ↗  "+t._s(t.statistical_data.showtimes_change)+"%")]):t._e()])])]),t._v(" "),i("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[i("div",{staticClass:"card-panel",on:{click:function(a){t.handleSetLineChartData("shoppings")}}},[i("div",{staticClass:"card-panel-icon-wrapper icon-money"},[i("svg-icon",{attrs:{"icon-class":"money","class-name":"card-panel-icon"}})],1),t._v(" "),i("div",{staticClass:"card-panel-description"},[i("div",{staticClass:"card-panel-text"},[t._v("总流水")]),t._v(" "),i("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":this.statistical_data.earned,duration:10}})],1),t._v(" "),i("div",{staticStyle:{"margin-top":"20px","margin-left":"50px","font-size":"14px","font-weight":"bolder"}},[t._v("\n        对比总流水："+t._s(t.statistical_data.contrast_earned)),i("br"),i("br"),t._v("\n        同比:"),t.statistical_data.earned_change<0?i("span",{staticStyle:{color:"hotpink"}},[t._v("\n          ↘  "+t._s(t.statistical_data.earned_change)+"%")]):t._e(),t.statistical_data.earned_change>0?i("span",{staticStyle:{color:"limegreen"}},[t._v("\n          ↗  "+t._s(t.statistical_data.earned_change)+"%")]):t._e()])])]),i("br"),t._v(" "),i("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[i("div",{staticClass:"card-panel",on:{click:function(a){t.handleSetLineChartData("shoppings")}}},[i("div",{staticClass:"card-panel-icon-wrapper icon-money"},[i("svg-icon",{attrs:{"icon-class":"banner","class-name":"card-panel-icon"}})],1),t._v(" "),i("div",{staticClass:"card-panel-description"},[i("div",{staticClass:"card-panel-text"},[t._v("横幅总展次")]),t._v(" "),i("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":this.statistical_data.banner,duration:10}})],1),t._v(" "),i("div",{staticStyle:{"margin-top":"20px","margin-left":"50px","font-size":"14px","font-weight":"bolder"}},[t._v("\n        对比横幅总展次："+t._s(t.statistical_data.contrast_banner)),i("br"),i("br"),t._v("\n        同比:"),t.statistical_data.banner_change<0?i("span",{staticStyle:{color:"hotpink"}},[t._v("\n          ↘  "+t._s(t.statistical_data.banner_change)+"%")]):t._e(),t.statistical_data.banner_change>0?i("span",{staticStyle:{color:"limegreen"}},[t._v("\n          ↗  "+t._s(t.statistical_data.banner_change)+"%")]):t._e()])])]),t._v(" "),i("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[i("div",{staticClass:"card-panel",on:{click:function(a){t.handleSetLineChartData("shoppings")}}},[i("div",{staticClass:"card-panel-icon-wrapper icon-money"},[i("svg-icon",{attrs:{"icon-class":"video","class-name":"card-panel-icon"}})],1),t._v(" "),i("div",{staticClass:"card-panel-description"},[i("div",{staticClass:"card-panel-text"},[t._v("视频总展次")]),t._v(" "),i("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":this.statistical_data.video,duration:10}})],1),t._v(" "),i("div",{staticStyle:{"margin-top":"20px","margin-left":"50px","font-size":"14px","font-weight":"bolder"}},[t._v("\n        对比视频总展次："+t._s(t.statistical_data.contrast_video)),i("br"),i("br"),t._v("\n        同比:"),t.statistical_data.video_change<0?i("span",{staticStyle:{color:"hotpink"}},[t._v("\n          ↘  "+t._s(t.statistical_data.video_change)+"%")]):t._e(),t.statistical_data.video_change>0?i("span",{staticStyle:{color:"limegreen"}},[t._v("\n          ↗  "+t._s(t.statistical_data.video_change)+"%")]):t._e()])])]),t._v(" "),i("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[i("div",{staticClass:"card-panel",on:{click:function(a){t.handleSetLineChartData("shoppings")}}},[i("div",{staticClass:"card-panel-icon-wrapper icon-money"},[i("svg-icon",{attrs:{"icon-class":"inline","class-name":"card-panel-icon"}})],1),t._v(" "),i("div",{staticClass:"card-panel-description"},[i("div",{staticClass:"card-panel-text"},[t._v("插屏总展次")]),t._v(" "),i("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":this.statistical_data.inline,duration:10}})],1),t._v(" "),i("div",{staticStyle:{"margin-top":"20px","margin-left":"50px","font-size":"14px","font-weight":"bolder"}},[t._v("\n        对比插屏总展次："+t._s(t.statistical_data.contrast_inline)),i("br"),i("br"),t._v("\n        同比:"),t.statistical_data.inline_change<0?i("span",{staticStyle:{color:"hotpink"}},[t._v("\n          ↘  "+t._s(t.statistical_data.inline_change)+"%")]):t._e(),t.statistical_data.inline_change>0?i("span",{staticStyle:{color:"limegreen"}},[t._v("\n          ↗  "+t._s(t.statistical_data.inline_change)+"%")]):t._e()])])]),t._v(" "),i("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[i("div",{staticClass:"card-panel",on:{click:function(a){t.handleSetLineChartData("shoppings")}}},[i("div",{staticClass:"card-panel-icon-wrapper icon-money"},[i("svg-icon",{attrs:{"icon-class":"splash","class-name":"card-panel-icon"}})],1),t._v(" "),i("div",{staticClass:"card-panel-description"},[i("div",{staticClass:"card-panel-text"},[t._v("开屏总展次")]),t._v(" "),i("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":this.statistical_data.splash,duration:10}})],1),t._v(" "),i("div",{staticStyle:{"margin-top":"20px","margin-left":"50px","font-size":"14px","font-weight":"bolder"}},[t._v("\n        对比开屏展次："+t._s(t.statistical_data.contrast_splash)),i("br"),i("br"),t._v("\n        同比:"),t.statistical_data.splash_change<0?i("span",{staticStyle:{color:"hotpink"}},[t._v("\n          ↘  "+t._s(t.statistical_data.splash_change)+"%")]):t._e(),t.statistical_data.splash_change>0?i("span",{staticStyle:{color:"limegreen"}},[t._v("\n          ↗  "+t._s(t.statistical_data.splash_change)+"%")]):t._e()])])])],1)},[],!1,null,"2d7b5f95",null);l.options.__file="PanelGroup.vue";var o=l.exports,c=i("MT78"),d=i.n(c),h=i("7Qib");i("gX0l");var p={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null,sidebarElm:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.initChart(),this.autoResize&&(this.__resizeHandler=Object(h.a)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHandler)),this.sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.sidebarElm&&this.sidebarElm.addEventListener("transitionend",this.sidebarResizeHandler)},beforeDestroy:function(){this.chart&&(this.autoResize&&window.removeEventListener("resize",this.__resizeHandler),this.sidebarElm&&this.sidebarElm.removeEventListener("transitionend",this.sidebarResizeHandler),this.chart.dispose(),this.chart=null)},methods:{sidebarResizeHandler:function(t){"width"===t.propertyName&&this.__resizeHandler()},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.firstData,i=t.secondData,e=t.thirdData,s=t.forthData,n=t.time,r=t.name;this.chart.setOption({xAxis:{data:n,boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:[r[0],r[1],r[2],r[3]]},series:[{name:r[0],itemStyle:{normal:{color:"#33ADA0",lineStyle:{color:"#33ADA0",width:2,type:"solid",shadowColor:"#33ADA0",shadowBlur:1}}},smooth:!0,type:"line",data:a,animationDuration:2800,animationEasing:"cubicInOut"},{name:r[1],itemStyle:{normal:{color:"#F4A254",lineStyle:{color:"#F4A254",width:2,type:"Dotted line",shadowColor:"#F4A254",shadowBlur:10}}},smooth:!0,type:"line",data:i,animationDuration:2800,animationEasing:"cubicInOut"},{name:r[2],itemStyle:{normal:{color:"#33ADA0",lineStyle:{color:"#33ADA0",width:2}}},smooth:!0,type:"line",data:e,animationDuration:2800,animationEasing:"cubicInOut"},{name:r[3],smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:s,animationDuration:2800,animationEasing:"quadraticOut"}]})},initChart:function(){this.chart=d.a.init(this.$el,"macarons"),this.setOptions(this.chartData)}}},u=Object(r.a)(p,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);u.options.__file="LineChart.vue";var _=u.exports,m=(i("ikTX"),i("t3Un"));function v(t){return Object(m.a)({url:"/appdata/"+t.start+"/"+t.end,method:"get"})}var f=i("41Be");function g(t,a){/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var e in i)if(new RegExp("("+e+")").test(a)){var s=i[e]+"";a=a.replace(RegExp.$1,1===RegExp.$1.length?s:("00"+s).substr(s.length))}return a}var y={},b={name:"DashboardAdmin",components:{PanelGroup:o,LineChart:_},data:function(){return{listLoading:!0,original_list:[],contrast_list:[],original_list_app:[],contrast_list_app:[],statistical_data:{newuser:1,contrast_newuser:2,newuser_change:50,activeuser:3,contrast_activeuser:4,activeuser_change:60,showtimes:5,contrast_showtimes:6,showtimes_change:-50,earned:7,contrast_earned:8,earned_change:-90,banner:1,contrast_banner:2,banner_change:50,video:3,contrast_video:4,video_change:60,inline:5,contrast_inline:6,inline_change:-50,splash:7,contrast_splash:8,splash_change:-90},channel_mark_list:[],secondary_channel:"全部",app_name_list:[],secondary_game:"全部",original_time:[],contrast_time:[],list1:{name:["原始数据-新增用户","对比数据-新增用户"],time:[],firstData:[],secondData:[]},list2:{name:["原始数据-活跃用户","对比数据-活跃用户"],time:[],firstData:[],secondData:[]},list3:{name:["原始数据-展示次数","对比数据-展示次数"],time:[],firstData:[],secondData:[]},list4:{name:["原始数据-总流水","对比数据-总流水"],time:[],firstData:[],secondData:[]},list_banner:{name:["原始数据-横幅","对比数据-横幅"],time:[],firstData:[],secondData:[]},list_video:{name:["原始数据-视频","对比数据-视频"],time:[],firstData:[],secondData:[]},list_inline:{name:["原始数据-插屏","对比数据-插屏"],time:[],firstData:[],secondData:[]},list_splash:{name:["原始数据-开屏","对比数据-开屏"],time:[],firstData:[],secondData:[]},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var a=new Date,i=new Date;i.setTime(i.getTime()-6048e5),t.$emit("pick",[i,a])}},{text:"最近一个月",onClick:function(t){var a=new Date,i=new Date;i.setTime(i.getTime()-2592e6),t.$emit("pick",[i,a])}}]}}},mounted:function(){this.fetchData(),this.initdate(),this.fetchName(),this.initchannel(),this.test1()},methods:{test1:function(){var t=this;this.listLoading=!0;var a={start:g(new Date(this.original_time[0]),"yyyy-MM-dd"),end:g(new Date(this.original_time[1]),"yyyy-MM-dd")},i={start:g(new Date(this.contrast_time[0]),"yyyy-MM-dd"),end:g(new Date(this.contrast_time[1]),"yyyy-MM-dd")};v(a).then(function(a){t.original_list=a.data,t.original_list_app=a.data1,v(i).then(function(a){t.contrast_list=a.data,t.contrast_list_app=a.data1,t.test2()}).catch(function(t){console.error(t)})}).catch(function(t){console.error(t)})},test2:function(){this.resetchart();var t=this.getdate(new Date(this.original_time[0]),new Date(this.original_time[1])),a=this.getdate(new Date(this.contrast_time[0]),new Date(this.contrast_time[1]));this.list1.time=t,this.list2.time=t,this.list3.time=t,this.list4.time=t,this.list_banner.time=t,this.list_video.time=t,this.list_inline.time=t,this.list_splash.time=t;for(var i=0,e=0,s=0,n=0,r=0;r<t.length;r++){for(var l=0,o=0,c=0;c<this.original_list.length;c++){var d=!1;"全部"!==this.secondary_channel&&this.secondary_channel!==this.original_list[c].channel||(d=!0);var h=!1;"全部"!==this.secondary_game&&this.secondary_game!==this.original_list[c].app_name||(h=!0),t[r]===this.original_list[c].date&&h&&d&&(l+=this.original_list[c].dau,o+=this.original_list[c].dnu)}i+=l,e+=o,this.list1.firstData.push(o),this.list2.firstData.push(l);for(var p=0,u=0,_=0;_<this.contrast_list.length;_++){var m=!1;"全部"!==this.secondary_channel&&this.secondary_channel!==this.contrast_list[_].channel||(m=!0);var v=!1;"全部"!==this.secondary_game&&this.secondary_game!==this.contrast_list[_].app_name||(v=!0),a[r]===this.contrast_list[_].date&&v&&m&&(p+=this.contrast_list[_].dau,u+=this.contrast_list[_].dnu)}s+=p,n+=u,this.list1.secondData.push(u),this.list2.secondData.push(p)}this.statistical_data.newuser=e,this.statistical_data.contrast_newuser=n,this.statistical_data.newuser_change=((e-n)/e*100).toFixed(2),console.log(this.statistical_data.newuser_change),this.statistical_data.activeuser=i,this.statistical_data.contrast_activeuser=s,this.statistical_data.activeuser_change=((i-s)/i*100).toFixed(2);for(var f=0,g=0,y=0,b=0,x=0;x<t.length;x++){for(var w=0,D=0,C=0;C<this.original_list_app.length;C++){var S=!1;"全部"!==this.secondary_channel&&this.secondary_channel!==this.original_list_app[C].channel||(S=!0);var z=!1;"全部"!==this.secondary_game&&this.secondary_game!==this.original_list_app[C].app_name||(z=!0),t[x]===this.original_list_app[C].date&&z&&S&&(w+=this.original_list_app[C].impression,D+=this.original_list_app[C].earned)}f+=w,g+=D,this.list3.firstData.push(w),this.list4.firstData.push(parseInt(D));for(var k=0,F=0,A=0;A<this.contrast_list_app.length;A++){var V=!1;"全部"!==this.secondary_channel&&this.secondary_channel!==this.contrast_list_app[A].channel||(V=!0);var E=!1;"全部"!==this.secondary_game&&this.secondary_game!==this.contrast_list_app[A].app_name||(E=!0),a[x]===this.contrast_list_app[A].date&&E&&V&&(k+=this.contrast_list_app[A].impression,F+=this.contrast_list_app[A].earned)}y+=k,b+=F,this.list3.secondData.push(k),this.list4.secondData.push(parseInt(F))}this.statistical_data.showtimes=f,this.statistical_data.contrast_showtimes=y,this.statistical_data.showtimes_change=((f-y)/f*100).toFixed(2),this.statistical_data.earned=parseInt(g),this.statistical_data.contrast_earned=parseInt(b),this.statistical_data.earned_change=((g-b)/g*100).toFixed(2);for(var L=0,O=0,M=0,T=0,R=0,$=0,q=0,N=0,I=0;I<t.length;I++){for(var j=0,H=0,B=0,P=0,Q=0;Q<this.original_list_app.length;Q++){var W=!1;"全部"!==this.secondary_channel&&this.secondary_channel!==this.original_list_app[Q].channel||(W=!0);var G=!1;if("全部"!==this.secondary_game&&this.secondary_game!==this.original_list_app[Q].app_name||(G=!0),t[I]===this.original_list_app[Q].date&&G&&W)switch(this.original_list_app[Q].advertising_type){case"横幅":j+=this.original_list_app[Q].impression;break;case"视频":H+=this.original_list_app[Q].impression;break;case"插屏":B+=this.original_list_app[Q].impression;break;case"开屏":P+=this.original_list_app[Q].impression}}L+=j,O+=H,M+=B,T+=P,this.list_banner.firstData.push(j),this.list_video.firstData.push(H),this.list_inline.firstData.push(B),this.list_splash.firstData.push(P);for(var U=0,X=0,Y=0,J=0,K=0;K<this.contrast_list_app.length;K++){var Z=!1;"全部"!==this.secondary_channel&&this.secondary_channel!==this.contrast_list_app[K].channel||(Z=!0);var tt=!1;if("全部"!==this.secondary_game&&this.secondary_game!==this.contrast_list_app[K].app_name||(tt=!0),a[I]===this.contrast_list_app[K].date&&tt&&Z)switch(this.contrast_list_app[K].advertising_type){case"横幅":U+=this.contrast_list_app[K].impression;break;case"视频":X+=this.contrast_list_app[K].impression;break;case"插屏":Y+=this.contrast_list_app[K].impression;break;case"开屏":J+=this.contrast_list_app[K].impression}}R+=U,$+=X,q+=Y,N+=J,this.list_banner.secondData.push(U),this.list_video.secondData.push(X),this.list_inline.secondData.push(Y),this.list_splash.secondData.push(J)}this.statistical_data.banner=L,this.statistical_data.contrast_banner=R,this.statistical_data.banner_change=((L-R)/L*100).toFixed(2),this.statistical_data.video=O,this.statistical_data.contrast_video=$,this.statistical_data.video_change=((O-$)/O*100).toFixed(2),this.statistical_data.inline=M,this.statistical_data.contrast_inline=q,this.statistical_data.inline_change=((M-q)/M*100).toFixed(2),this.statistical_data.splash=T,this.statistical_data.contrast_splash=N,this.statistical_data.splash_change=((T-N)/T*100).toFixed(2),console.log("赋值完成"),console.log(this.listLoading),this.listLoading=!1},test3:function(){this.listLoading=!0,this.test2()},test:function(){console.log(parseInt(-50))},resetchart:function(){this.list1={name:["原始数据-新增用户","对比数据-新增用户"],time:[],firstData:[],secondData:[]},this.list2={name:["原始数据-活跃用户","对比数据-活跃用户"],time:[],firstData:[],secondData:[]},this.list3={name:["原始数据-展示次数","对比数据-展示次数"],time:[],firstData:[],secondData:[]},this.list4={name:["原始数据-总流水","对比数据-总流水"],time:[],firstData:[],secondData:[]},this.list_banner={name:["原始数据-横幅","对比数据-横幅"],time:[],firstData:[],secondData:[]},this.list_video={name:["原始数据-视频","对比数据-视频"],time:[],firstData:[],secondData:[]},this.list_inline={name:["原始数据-插屏","对比数据-插屏"],time:[],firstData:[],secondData:[]},this.list_splash={name:["原始数据-开屏","对比数据-开屏"],time:[],firstData:[],secondData:[]}},fetchName:function(){var t=this;if(Object(f.a)(["admin","leader","operator"])){var a=this;Object(m.a)({url:"/names",method:"get"}).then(function(a){t.app_name_list=a.data}).catch(function(t){a.listLoading=!1,console.log(t)})}else{(function(t){return Object(m.a)({url:"/api/getresourcelist",method:"post",params:t})})({username:this.name}).then(function(a){t.app_name_list=a.data}).catch(function(t){console.error(t)})}},initchannel:function(){var t=this;Object(m.a)({url:"/channel",method:"get"}).then(function(a){t.channel_mark_list=a.data})},initdate:function(){var t=new Date,a=new Date;a.setTime(a.getTime()-5184e5),t.setTime(t.getTime()),this.original_time.push(a),this.original_time.push(t);var i=new Date,e=new Date;e.setTime(e.getTime()-11232e5),i.setTime(i.getTime()-6048e5),this.contrast_time.push(e),this.contrast_time.push(i)},fetchData:function(){},handleSetLineChartData:function(t){this.lineChartData=y[t]},getdate:function(t,a){var i=[];for(i.push(this.formatDate(t,"yyyy-MM-dd"));t.setDate(t.getDate()+1),t.getTime()<a.getTime();)i.push(this.formatDate(t,"yyyy-MM-dd"));return i.includes(this.formatDate(a,"yyyy-MM-dd"))||i.push(this.formatDate(a,"yyyy-MM-dd")),i},formatDate:function(t,a){/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var e in i)if(new RegExp("("+e+")").test(a)){var s=i[e]+"";a=a.replace(RegExp.$1,1===RegExp.$1.length?s:this.padLeftZero(s))}return a},padLeftZero:function(t){return("00"+t).substr(t.length)}}},x=(i("r/Cu"),Object(r.a)(b,function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.listLoading,expression:"listLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"dashboard-editor-container"},[i("div",{staticClass:"top_condition"},[i("span",{staticStyle:{"font-size":"36px","font-family":"'Microsoft YaHei UI'",color:"dimgray"}},[t._v("数据统计")]),t._v(" "),i("div",{staticStyle:{float:"right",width:"85%","margin-bottom":"15px"}},[i("div",{staticStyle:{"font-size":"14px",color:"dimgray","font-family":"微软雅黑","font-weight":"bolder","margin-bottom":"-7px",width:"560px","text-align":"right",float:"right"}},[i("span",{staticStyle:{"font-size":"14px",color:"dimgray","font-family":"微软雅黑","font-weight":"bolder"}},[t._v("原始数据：")]),t._v(" "),i("el-date-picker",{staticStyle:{"margin-top":"5px","margin-right":"0px"},attrs:{size:"mini",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},on:{change:t.test1},model:{value:t.original_time,callback:function(a){t.original_time=a},expression:"original_time"}}),t._v(" "),i("br"),t._v(" "),i("span",{staticStyle:{"font-size":"14px",color:"dimgray","font-family":"微软雅黑","font-weight":"bolder"}},[t._v(" 对比数据：")]),t._v(" "),i("el-date-picker",{staticStyle:{"margin-top":"5px","margin-right":"0px","margin-bottom":"5px"},attrs:{size:"mini",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.test1},model:{value:t.contrast_time,callback:function(a){t.contrast_time=a},expression:"contrast_time"}}),t._v(" "),i("br"),t._v("\n        游戏：\n        "),i("el-select",{staticStyle:{"margin-right":"40px"},attrs:{size:"mini"},on:{change:function(a){t.test3()}},model:{value:t.secondary_game,callback:function(a){t.secondary_game=a},expression:"secondary_game"}},[i("el-option",{key:"全部",attrs:{label:"全部",value:"全部"}}),t._v(" "),t._l(t.app_name_list,function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})],2),t._v("\n        渠道：\n        "),i("el-select",{staticStyle:{"margin-top":"-10px"},attrs:{size:"mini"},on:{change:function(a){t.test3()}},model:{value:t.secondary_channel,callback:function(a){t.secondary_channel=a},expression:"secondary_channel"}},[i("el-option",{key:"全部",attrs:{label:"全部",value:"全部"}}),t._v(" "),t._l(t.channel_mark_list,function(t){return i("el-option",{key:t.name,attrs:{label:t.name,value:t.program_mark}})})],2),t._v(" "),i("br")],1)])]),t._v(" "),i("div",[i("panel-group",{staticStyle:{"margin-bottom":"-45px"},attrs:{statistical_data:t.statistical_data},on:{handleSetLineChartData:t.handleSetLineChartData}})],1),t._v(" "),i("div",{staticClass:"line-chart",staticStyle:{"margin-right":"100px","margin-top":"40px"}},[i("span",{staticClass:"font_cline"},[t._v("新增用户")]),t._v(" "),i("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[i("line-chart",{attrs:{"chart-data":t.list1,title:1}})],1)],1),t._v(" "),i("div",{staticClass:"line-chart",staticStyle:{"margin-top":"40px"}},[i("span",{staticClass:"font_cline"},[t._v("活跃用户")]),t._v(" "),i("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[i("line-chart",{attrs:{"chart-data":t.list2}})],1)],1),t._v(" "),i("div",{staticClass:"line-chart",staticStyle:{"margin-right":"100px","margin-top":"-100px"}},[i("span",{staticClass:"font_cline"},[t._v("展示次数")]),t._v(" "),i("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[i("line-chart",{attrs:{"chart-data":t.list3}})],1)],1),t._v(" "),i("div",{staticClass:"line-chart",staticStyle:{"margin-top":"-100px"}},[i("span",{staticClass:"font_cline"},[t._v("总流水")]),t._v(" "),i("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[i("line-chart",{attrs:{"chart-data":t.list4}})],1)],1),t._v(" "),i("div",{staticClass:"line-chart",staticStyle:{"margin-right":"100px","margin-top":"-40px"}},[i("span",{staticClass:"font_cline"},[t._v("横幅展次")]),t._v(" "),i("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[i("line-chart",{attrs:{"chart-data":t.list_banner,title:1}})],1)],1),t._v(" "),i("div",{staticClass:"line-chart",staticStyle:{"margin-top":"-40px"}},[i("span",{staticClass:"font_cline"},[t._v("视频展次")]),t._v(" "),i("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[i("line-chart",{attrs:{"chart-data":t.list_video}})],1)],1),t._v(" "),i("div",{staticClass:"line-chart",staticStyle:{"margin-right":"100px","margin-top":"-100px"}},[i("span",{staticClass:"font_cline"},[t._v("插屏展次")]),t._v(" "),i("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[i("line-chart",{attrs:{"chart-data":t.list_inline}})],1)],1),t._v(" "),i("div",{staticClass:"line-chart",staticStyle:{"margin-top":"-100px"}},[i("span",{staticClass:"font_cline"},[t._v("开屏展次")]),t._v(" "),i("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[i("line-chart",{attrs:{"chart-data":t.list_splash}})],1)],1)])},[],!1,null,"08b846d0",null));x.options.__file="index.vue";a.default=x.exports},"9TPh":function(t,a,i){"use strict";var e=i("eeMe"),s=i.n(e);i("e8E5");s.a.autoDiscover=!1;var n={props:{id:{type:String,required:!0},url:{type:String,required:!0},clickable:{type:Boolean,default:!0},defaultMsg:{type:String,default:"上传区"},acceptedFiles:{type:String,default:".csv,.xls,.xlsx"},thumbnailHeight:{type:Number,default:200},thumbnailWidth:{type:Number,default:200},showRemoveLink:{type:Boolean,default:!0},maxFilesize:{type:Number,default:2},maxFiles:{type:Number,default:null},autoProcessQueue:{type:Boolean,default:!0},useCustomDropzoneOptions:{type:Boolean,default:!1},defaultImg:{default:"",type:[String,Array]},couldPaste:{type:Boolean,default:!1}},data:function(){return{dropzone:"",initOnce:!0}},watch:{defaultImg:function(t){0!==t.length?this.initOnce&&(this.initImages(t),this.initOnce=!1):this.initOnce=!1}},mounted:function(){var t=document.getElementById(this.id),a=this;this.dropzone=new s.a(t,{clickable:this.clickable,thumbnailWidth:this.thumbnailWidth,thumbnailHeight:this.thumbnailHeight,maxFiles:this.maxFiles,maxFilesize:this.maxFilesize,dictRemoveFile:"移除",dictCancelUploadConfirmation:"确认取消上传？",addRemoveLinks:this.showRemoveLink,acceptedFiles:this.acceptedFiles,autoProcessQueue:this.autoProcessQueue,dictDefaultMessage:'<i style="margin-top: 3em;display: inline-block" class="material-icons">'+this.defaultMsg+"</i><br>文件拖拽到此处实现上传",dictMaxFilesExceeded:"超过上传文件数量",dictInvalidFileType:"文件类型只能是*.csv,*.xls,*.xlsx",previewTemplate:'<div class="dz-preview dz-file-preview">  <div class="dz-image" style="width:'+this.thumbnailWidth+"px;height:"+this.thumbnailHeight+'px" ><img style="width:'+this.thumbnailWidth+"px;height:"+this.thumbnailHeight+'px" data-dz-thumbnail /></div>  <div class="dz-details"><div class="dz-size"><span data-dz-size>超过最大上传文件尺寸</span></div> <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress>正在上传</span></div>  <div class="dz-error-message"><span data-dz-errormessage>发生错误</span></div>  <div class="dz-success-mark"> <i class="material-icons">成功</i> </div>  <div class="dz-error-mark"><i class="material-icons">失败</i></div></div>',init:function(){var t=this,i=a.defaultImg;if(i)if(Array.isArray(i)){if(0===i.length)return;i.map(function(i,e){var s={name:"name"+e,size:12345,url:i};return t.options.addedfile.call(t,s),t.options.thumbnail.call(t,s,i),s.previewElement.classList.add("dz-success"),s.previewElement.classList.add("dz-complete"),a.initOnce=!1,!0})}else{var e={name:"name",size:12345,url:i};this.options.addedfile.call(this,e),this.options.thumbnail.call(this,e,i),e.previewElement.classList.add("dz-success"),e.previewElement.classList.add("dz-complete"),a.initOnce=!1}}}),this.couldPaste&&document.addEventListener("paste",this.pasteImg),this.dropzone.on("success",function(t){a.$emit("dropzone-success",t,a.dropzone.element)}),this.dropzone.on("addedfile",function(t){a.$emit("dropzone-fileAdded",t)}),this.dropzone.on("removedfile",function(t){a.$emit("dropzone-removedFile",t)}),this.dropzone.on("error",function(t,i,e){a.$emit("dropzone-error",t,i,e)}),this.dropzone.on("successmultiple",function(t,i,e){a.$emit("dropzone-successmultiple",t,i,e)})},destroyed:function(){document.removeEventListener("paste",this.pasteImg),this.dropzone.destroy()},methods:{removeAllFiles:function(){this.dropzone.removeAllFiles(!0)},processQueue:function(){this.dropzone.processQueue()},pasteImg:function(t){var a=(t.clipboardData||t.originalEvent.clipboardData).items;"file"===a[0].kind&&this.dropzone.addFile(a[0].getAsFile())},initImages:function(t){var a=this;if(t)if(Array.isArray(t))t.map(function(t,i){var e={name:"name"+i,size:12345,url:t};return a.dropzone.options.addedfile.call(a.dropzone,e),a.dropzone.options.thumbnail.call(a.dropzone,e,t),e.previewElement.classList.add("dz-success"),e.previewElement.classList.add("dz-complete"),!0});else{var i={name:"name",size:12345,url:t};this.dropzone.options.addedfile.call(this.dropzone,i),this.dropzone.options.thumbnail.call(this.dropzone,i,t),i.previewElement.classList.add("dz-success"),i.previewElement.classList.add("dz-complete")}}}},r=(i("zI9m"),i("KHd+")),l=Object(r.a)(n,function(){var t=this.$createElement,a=this._self._c||t;return a("div",{ref:this.id,staticClass:"dropzone",attrs:{action:this.url,id:this.id}},[a("input",{attrs:{type:"file",name:"file"}})])},[],!1,null,"889bdb1a",null);l.options.__file="index.vue";a.a=l.exports},Cnfv:function(t,a,i){"use strict";var e=i("VNcO");i.n(e).a},VNcO:function(t,a,i){},ikTX:function(t,a,i){"use strict";i.d(a,"a",function(){return s});var e=i("t3Un");function s(t){return Object(e.a)({url:"/test",method:"get",param:t})}},"r/Cu":function(t,a,i){"use strict";var e=i("tkEG");i.n(e).a},tkEG:function(t,a,i){},vQ8h:function(t,a,i){},zI9m:function(t,a,i){"use strict";var e=i("vQ8h");i.n(e).a}}]);