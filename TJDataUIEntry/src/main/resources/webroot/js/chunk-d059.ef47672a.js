(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d059"],{"41Be":function(e,t,a){"use strict";a.d(t,"a",function(){return i});var s=a("Q2AE");function i(e){if(e&&e instanceof Array&&e.length>0){var t=e;return!!(s.a.getters&&s.a.getters.roles).some(function(e){return t.includes(e)})}return!1}},Mnjj:function(e,t,a){"use strict";var s=a("aC73");a.n(s).a},"RU/L":function(e,t,a){a("Rqdy");var s=a("WEpk").Object;e.exports=function(e,t,a){return s.defineProperty(e,t,a)}},Rqdy:function(e,t,a){var s=a("Y7ZC");s(s.S+s.F*!a("jmDH"),"Object",{defineProperty:a("2faE").f})},SEkw:function(e,t,a){e.exports={default:a("RU/L"),__esModule:!0}},YEIV:function(e,t,a){"use strict";t.__esModule=!0;var s=function(e){return e&&e.__esModule?e:{default:e}}(a("SEkw"));t.default=function(e,t,a){return t in e?(0,s.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},Zi3W:function(e,t,a){"use strict";a.r(t);var s=a("YEIV"),i=a.n(s),n=a("QbLZ"),r=a.n(n),o=a("L2JU"),l=(a("ZySA"),a("7Qib"),a("41Be")),d=a("t3Un");function c(e){return Object(d.a)({url:"/api/projectconfig/"+e.id,method:"patch",data:e})}a("ytXT");var p=a("X4fA"),h=a("fQYb"),m={filters:{statusFilter:function(e){return{published:"success",draft:"gray",deleted:"danger"}[e]}},computed:r()({},Object(o.b)(["name","roles"])),data:function(){var e;return e={sdkModelListVersion:"",sdkModelListName:"",fullscreenLoading:!1,pageSize:30,totalPages:0,currentPage:1,user:"",resPath:"http://filehost.tomatojoy.com:8091/file",imageUrl_splash:"",imageUrl_icon:"",keystoreList:[],dataObj:{Authorization:""},tabname:"",secondary_package:"",rowvalue:"",tag_name:"",options:[],value:[],page_name:"",dialog_secondary_checked:[],dialog_secondary_list:[],dialog_secondary_visual:!1,filter_form_name:"暂无",update_flag:!0,sdk_template_name:"",sdkTemplatelibrary:[],checkedSdkTemplate:[],sdkTemplate:[],hidsdkTemplate:[],checked:!0,checked1:!1,dataForm:{app_name:"",package_name:"",channel_mark:"",version_online_version:"",version_update_version:"",versioncode_online_version:"",versioncode_update_version:"",sdk_config:""},secondary_channel:"",secondary_game:"",listLoading:!0,names:[],layout:"",timevalue:"",hidtimevalue:"",list:null},i()(e,"listLoading",!1),i()(e,"names",[]),i()(e,"dialogStatus",""),i()(e,"dialogFormVisible",!1),i()(e,"textMap",{update:"编辑",create:"创建"}),i()(e,"sdk",{second_checked:[],checked:[],id:"",timevalue:"",app_name:"",package_name:"",channel_mark:"",version_online_version:"",version_update_version:"",versioncode_online_version:"",versioncode_update_version:"",sdk_config:"",sdkstatus:"1",sdk_require:"",note:"",icon:"",splash:"",keystore:"",ketstorePWD:"",publish:"0",form:{domains:[],select:[]}}),i()(e,"hidlist",""),i()(e,"channel_mark_list_dia",[]),i()(e,"publishlist",[]),i()(e,"getRowKeys",function(e){return e.id}),e},created:function(){this.user=this.name,this.initTemplate(),this.routeWithParam(),this.pageChange(1),this.listKeyStoreInfo()},methods:{searchTable:function(){this.pageChange(1)},pageChange:function(e){var t=this;this.currentPage=e;var a=this;(function(e){return Object(d.a)({url:"/api/projectconfig/limit",method:"get",params:e})})({page:e,limit:this.pageSize,appName:this.secondary_game,channelName:this.secondary_channel,packageName:this.secondary_package}).then(function(e){3e3===e.repcode?(t.hidlist=e.data,t.list=e.data,t.totalPages=e.total):a.$notify({title:"失败",message:"请刷新页面后重试",type:"error",duration:2e3})}).catch(function(e){console.error(e),a.$notify({title:"失败",message:"请刷新页面后重试",type:"error",duration:2e3})})},listKeyStoreInfo:function(){var e=this,t=this;Object(h.b)().then(function(t){3e3===t.repcode&&(e.keystoreList=t.data,console.log("keystore",e.keystoreList)),e.listLoading=!1}).catch(function(e){t.$notify({title:"失败",message:"获取keystore列表失败",type:"error",duration:4e3}),t.listLoading=!1,console.log(e)})},beforeUpload_icon:function(e){this.dataObj.Authorization="Bearer "+Object(p.a)()},beforeUpload_splash:function(e){this.dataObj.Authorization="Bearer "+Object(p.a)()},uploadSuccess_icon:function(e){console.log(e.data),this.sdk.icon=e.data.guid,this.imageUrl_icon=this.resPath+"?path="+e.data.guid},uploadSuccess_splash:function(e){console.log(e.data),this.sdk.splash=e.data.guid,this.imageUrl_splash=this.resPath+"?path="+e.data.guid},link_Check:function(e){var t=this.$router.resolve({name:"ProjectConfigList",query:{package_name:e.package_name,channel:e.channel_mark}});window.open(t.href,"_blank")},routeWithParam:function(){var e=this.$route.query.package_name;void 0!==e&&(this.secondary_package=e);var t=this.$route.query.channel;void 0!==t&&(this.secondary_channel=t)},validName:function(e){return e===this.tag_name},findtabname:function(e,t){console.log("编辑配置表-标签页-点击事件",e),this.tag_name=e.label,this.change_pagename(e.label)},publish:function(){for(var e=this,t=this,a=[],s=0;s<this.checkedSdkTemplate.length;s++)for(var i=0;i<this.sdk.form.domains.length;i++)this.sdk.form.domains[i].param_name.split("-")[0]===this.checkedSdkTemplate[s]&&a.push(this.sdk.form.domains[i]);for(var n=[],r=0;r<a.length;r++)if(3===a[r].param_name.split("-").length)for(var o=0;o<this.dialog_secondary_checked.length;o++)this.dialog_secondary_checked[o]===a[r].param_name.split("-")[1]&&n.push(a[r]);else n.push(a[r]);this.sdk.form.domains=n;for(var l=[],c=0;c<this.checkedSdkTemplate.length;c++)for(var p=0;p<this.options.length;p++)if(this.options[p].sdk_name===this.checkedSdkTemplate[c]){this.options[p].sdk_name;var h={param_name:this.options[p].sdk_name+"-"+this.options[p].param_name,param:this.options[p].value,sdk_type:"1"};if(0===l.length)l.push(h);else{for(var m=!0,u=0;u<l.length;u++)l[u].param_name===h.param_name&&(l[u].param_name=h.param_name,m=!1);m&&l.push(h)}}this.sdk.form.select=[],this.sdk.form.select=l,this.sdk.sdkstatus="1",this.sdk.publish="1",this.sdk.publisher=this.user,this.sdk.checked=this.checkedSdkTemplate,this.sdk.second_checked=this.dialog_secondary_checked,console.log("发布对象",this.sdk),Object(d.a)({url:"/api/projectconfig_publish",method:"get"}).then(function(a){if(e.publishlist=a.data,e.valideSdkForm()){var s=(new Date).getTime();e.sdk.timevalue=s,e.sdk.keystore.filepath=e.sdk.keystore.keystoreguid,function(e){return Object(d.a)({url:"/api/projectconfig",method:"post",data:e})}(e.sdk).then(function(t){e.fullscreenLoading=!1,e.pageChange(e.currentPage),e.$notify({title:"成功",message:"发布成功",type:"success",duration:4e3}),e.dialogFormVisible=!1,e.listLoading=!1}).catch(function(a){e.fullscreenLoading=!1,t.$notify({title:"发布失败",message:"请刷新页面后重试",type:"error",duration:4e3})})}else e.fullscreenLoading=!1}).catch(function(e){return t.$notify({title:"发布失败",message:"获取验证信息失败，请刷新页面后重试！",type:"error",duration:4e3}),!1})},valideSdkForm:function(){var e=new RegExp("^[0-9]*$");if(!e.test(this.sdk.versioncode_online_version)&&!e.test(this.sdk.versioncode_update_version))return this.$notify({title:"发布失败！",dangerouslyUseHTMLString:!0,message:"内部版本号格式错误,请及时修改！<br>必须为正整数。",type:"error",duration:4e3}),!1;for(var t=this.sdk.version_update_version.split("."),a=this.sdk.version_online_version.split("."),s=!1,i=!1,n=0;n<t.length;n++)e.test(t[n])||(s=!0);for(var r=0;r<a.length;r++)e.test(a[r])||(i=!0);if(t.length<3||a.length<3||s||i)return this.$notify({title:"发布失败！",dangerouslyUseHTMLString:!0,message:"外部版本号格式不正确,请及时修改！<br>例如:1.0.0",type:"error",duration:4e3}),!1;if(parseInt(this.sdk.versioncode_update_version)<=parseInt(this.sdk.versioncode_online_version))return this.$notify({title:"发布失败！",message:"内部版本号更新必须大于在线,请及时修改！",type:"error",duration:4e3}),!1;if(this.compareVersion(this.sdk.version_online_version,this.sdk.version_update_version)>=0)return this.$notify({title:"发布失败！",message:"外版本号更新必须大于在线,请及时修改！",type:"error",duration:4e3}),!1;for(var o=0;o<this.publishlist.length;o++)if(this.publishlist[o].channel_mark===this.sdk.channel_mark&&this.publishlist[o].package_name===this.sdk.package_name&&parseInt(this.publishlist[o].versioncode_update_version)>=parseInt(this.sdk.versioncode_update_version))return this.$notify({title:"发布失败！",dangerouslyUseHTMLString:!0,message:"最大的内部版本号为："+this.publishlist[o].versioncode_update_version+",<br>请及时修改！",type:"error",duration:4e3}),!1;return!0},form_item_filter:function(e){var t=e.param_name,a=this.dialog_secondary_checked,s=t.split("-");if(s[0]===this.filter_form_name){if(s.length<3)return!0;for(var i=!1,n=0;n<a.length;n++)s[1]===a[n]&&(i=!0);return!!i}return!1},getchannelmarklist:function(){for(var e=[],t=0;t<this.hidsdkTemplate.length;t++)-1!="".search(this.hidsdkTemplate[t])&&e.push(this.hidsdkTemplate[t]);for(var a=0;a<this.hidsdkTemplate.length;a++)-1==this.hidsdkTemplate[a].name.search(this.sdk_template_name)&&-1==this.hidsdkTemplate[a].mark.search(this.sdk_template_name)||e.push(this.hidsdkTemplate[a]);this.sdkTemplate=e},initTemplate:function(){var e=this;this.listLoading=!0,Object(d.a)({url:"/api/listtemplate",method:"get"}).then(function(t){e.sdkTemplate=t.name_list,e.hidsdkTemplate=t.name_list,e.sdkTemplatelibrary=t.list,e.options=t.select_list,console.log("sdk模版列表",e.sdkTemplate),console.log("sdk模版目录",e.sdkTemplatelibrary),console.log("设置目录",e.options),e.listLoading=!1})},change_pagename:function(e){this.sdkModelListName=e;for(var t=0;t<this.sdkTemplate.length;t++)if(e===this.sdkTemplate[t].mark){this.sdkModelListVersion=this.sdkTemplate[t].sdk_version;break}this.dialog_secondary_visual=!1,this.dialog_secondary_list=[];for(var a=void 0,s=this.dialog_secondary_list,i=0;i<this.sdk.form.domains.length;i++){var n=this.sdk.form.domains[i].param_name;if(n.split("-").length>2&&n.split("-")[0]===e)if(a=!0,0===s.length)s.push(n.split("-")[1]);else{for(var r=!0,o=0;o<s.length;o++)-1!=s[o].search(n.split("-")[1])&&(r=!1);r&&s.push(n.split("-")[1])}}this.dialog_secondary_visual=a,this.dialog_secondary_list=s,this.filter_form_name=e},findSdkTemplate:function(){this.sdk.form.domains=[];for(var e=0;e<this.checkedSdkTemplate.length;e++)for(var t=0;t<this.sdkTemplatelibrary.length;t++)this.sdkTemplatelibrary[t].keymark===this.checkedSdkTemplate[e]&&(0===this.sdk.form.domains.length?this.sdk.form.domains=this.sdkTemplatelibrary[t].keyform:this.sdk.form.domains=this.sdk.form.domains.concat(this.sdkTemplatelibrary[t].keyform));this.filter_form_name=this.page_name,"暂无"===this.tag_name&&this.checkedSdkTemplate.length>0&&(this.tag_name=this.checkedSdkTemplate[0]),this.change_pagename(this.tag_name)},resetTemp:function(){this.checkedSdkTemplate=[];for(var e=0;e<this.sdkTemplatelibrary.length;e++)for(var t=0;t<this.sdkTemplatelibrary[e].keyform.length;t++)this.sdkTemplatelibrary[e].keyform[t].param="";for(var a=this.keystoreList[0],s=0;s<this.keystoreList.length;s++)if("tomatojoy.keystore"===this.keystoreList[s].keystoreName){a=this.keystoreList[s];break}this.sdk={second_checked:[],checked:[],id:"",timevalue:"",app_name:"",package_name:"",channel_mark:"",version_online_version:"",version_update_version:"",versioncode_online_version:"",versioncode_update_version:"",sdk_config:"",sdkstatus:"1",sdk_require:"",note:"",publisher:"",icon:"暂无",splash:"暂无",keystore:a,publish:"0",form:{domains:[]}},console.log(this.sdk)},handleUpdate:function(e){this.resetTemp();for(var t=e.paramter,a=0;a<t.length;a++){var s=t[a].mark,i=t[a].param_name.split("-")[1];if("1"===t[a].sdk_type)for(var n=0;n<this.options.length;n++)s===this.options[n].sdk_name&&i===this.options[n].param_name&&(this.options[n].value=t[a].param)}for(var r=[],o=0;o<e.paramter.length;o++){var l=e.paramter[o].param_name,d="";if(l.split("-").length>2)if(d=l.split("-")[1],0===r.length)r.push(d);else{for(var c=!0,p=0;p<r.length;p++)r[p]===d&&(c=!1);c&&r.push(d)}}this.dialog_secondary_checked=r,this.sdk.id=e.id,this.sdk.timevalue=e.date,this.sdk.channel_mark=e.channel_mark,this.sdk.package_name=e.package_name,this.sdk.app_name="暂无"===e.app_name?"":e.app_name,this.sdk.version_online_version="暂无"===e.version_online?"":e.version_online,this.sdk.version_update_version="暂无"===e.version_update?"":e.version_update,this.sdk.versioncode_online_version="暂无"===e.versioncode_online_version?"":e.versioncode_online_version,this.sdk.versioncode_update_version="暂无"===e.versioncode_update_version?"":e.versioncode_update_version,this.sdk.sdk_config=e.sdk_config,this.sdk.sdk_require=e.sdk_require,this.sdk.note=e.note,this.sdk.publish="0",this.sdk.icon=e.icon,this.sdk.splash=e.splash;for(var h=0;h<this.keystoreList.length;h++)if(this.keystoreList[h].keystoreguid===e.keystorePath){this.sdk.keystore=this.keystoreList[h],console.log("keystore匹配成功");break}console.log(e.icon),"暂无"!==e.icon?this.imageUrl_icon=this.resPath+"?path="+e.icon:this.imageUrl_icon="",console.log(e.splash),"暂无"!==e.splash?this.imageUrl_splash=this.resPath+"?path="+e.splash:this.imageUrl_splash="",console.log(e);for(var m=[],u=0;u<e.paramter.length;u++)if(0===m.length)m.push(e.paramter[u].mark);else{for(var k=!0,_=0;_<m.length;_++)m[_]===e.paramter[u].mark&&(k=!1);k&&m.push(e.paramter[u].mark)}for(var g=[],f=0;f<m.length;f++)for(var v=0;v<this.sdkTemplatelibrary.length;v++)m[f]===this.sdkTemplatelibrary[v].keymark&&(g=g.concat(this.sdkTemplatelibrary[v].keyform));this.sdk.form.domains=g,1===e.sdk_status?this.sdk.sdkstatus="1":this.sdk.sdkstatus="0";for(var y=0;y<e.paramter.length;y++){for(var b=e.paramter[y].param_name,S=e.paramter[y].param_name.split("-")[0],x=!1,T=0;T<this.checkedSdkTemplate.length;T++)this.checkedSdkTemplate[T]!==S||(x=!0);!1===x&&this.checkedSdkTemplate.push(S);for(var w=0;w<this.sdkTemplatelibrary.length;w++)if(S===this.sdkTemplatelibrary[w].keymark)for(var L=0;L<this.sdkTemplatelibrary[w].keyform.length;L++)this.sdkTemplatelibrary[w].keyform[L].param_name===b&&(this.sdkTemplatelibrary[w].keyform[L].param=e.paramter[y].param)}this.filter_form_name=this.page_name;for(var C=e.checked.split(","),j=[],$=0;$<C.length;$++)"暂无"!==C[$]&&j.push(C[$]);this.checkedSdkTemplate=j;for(var P=e.second_checked.split(","),U=[],O=0;O<P.length;O++)"暂无"!==P[O]&&U.push(P[O]);this.dialog_secondary_checked=U;for(var M=[],q=0;q<this.checkedSdkTemplate.length;q++){for(var N=!0,E=0;E<g.length;E++)-1!=g[E].param_name.indexOf(this.checkedSdkTemplate[q])&&(N=!1);N&&M.push(this.checkedSdkTemplate[q])}for(var I=0;I<M.length;I++)for(var z=0;z<this.sdkTemplatelibrary.length;z++)M[I]===this.sdkTemplatelibrary[z].keymark&&(this.sdk.form.domains=this.sdk.form.domains.concat(this.sdkTemplatelibrary[z].keyform));if(this.rowvalue=e,this.dialogStatus="update",e.checked.split(",").length>0){var V=e.checked.split(",")[0];this.tag_name=V,this.change_pagename(V)}this.tag_name=this.tabname,this.change_pagename(this.tag_name);for(var F=0;F<this.checkedSdkTemplate.length;F++){for(var H=!0,A=0;A<this.sdkTemplate.length;A++)this.sdkTemplate[A].mark===this.checkedSdkTemplate[F]&&(H=!1);H&&this.checkedSdkTemplate.splice(F,1)}this.sdk_template_name="",this.getchannelmarklist(),this.dialogFormVisible=!0},updateData:function(e){for(var t=this,a=this,s=[],i=0;i<this.checkedSdkTemplate.length;i++)for(var n=0;n<this.sdk.form.domains.length;n++)this.sdk.form.domains[n].param_name.split("-")[0]===this.checkedSdkTemplate[i]&&s.push(this.sdk.form.domains[n]);for(var r=[],o=0;o<s.length;o++)if(3===s[o].param_name.split("-").length)for(var l=0;l<this.dialog_secondary_checked.length;l++)this.dialog_secondary_checked[l]===s[o].param_name.split("-")[1]&&r.push(s[o]);else r.push(s[o]);var d={app_name:this.sdk.app_name,channel_mark:this.sdk.channel_mark,checked:[],form:{select:[],domains:this.sdk.form.domains},id:this.sdk.id,package_name:this.sdk.package_name,publish:"0",icon:this.sdk.icon,splash:this.sdk.splash,keystore:{filepath:this.sdk.keystore.keystoreguid,keystorePass:this.sdk.keystore.keystorePass,keyaliasName:this.sdk.keystore.keyaliasName,keyaliasPass:this.sdk.keystore.keyaliasPass,MD5:this.sdk.keystore.MD5,SHA1:this.sdk.keystore.SHA1,SHA256:this.sdk.keystore.SHA256,companyName:this.sdk.keystore.companyName},sdk_config:"config_unused",sdk_require:"require_unused",sdkstatus:this.sdk.sdkstatus,second_checked:[],timevalue:this.sdk.timevalue,version_online_version:this.sdk.version_online_version,version_update_version:this.sdk.version_update_version,versioncode_online_version:this.sdk.versioncode_online_version,versioncode_update_version:this.sdk.versioncode_update_version,note:this.sdk.note,publisher:this.user};null===this.sdk.icon&&(d.icon="暂无"),null===this.sdk.splash&&(d.splash="暂无");for(var p=[],h=0;h<this.sdkTemplatelibrary.length;h++)for(var m=0;m<this.sdkTemplatelibrary[h].keyform.length;m++)""!==this.sdkTemplatelibrary[h].keyform[m].param&&p.push(this.sdkTemplatelibrary[h].keyform[m]);d.form.domains=p,d.checked=this.checkedSdkTemplate,d.second_checked=this.dialog_secondary_checked;for(var u=[],k=0;k<this.options.length;k++){this.options[k].sdk_name;var _={param_name:this.options[k].sdk_name+"-"+this.options[k].param_name,param:this.options[k].value,sdk_type:"1"};if(0===u.length)u.push(_);else{for(var g=!0,f=0;f<u.length;f++)u[f].param_name===_.param_name&&(u[f].param_name=_.param_name,g=!1);g&&u.push(_)}}d.form.select=u,console.log("保存对象",d),this.update_flag&&(this.update_flag=!1,e?(this.fullscreenLoading=!0,c(d).then(function(e){t.listLoading=!0,""!=t.hidtimevalue&&(t.timevalue=t.hidtimevalue,t.pageChange(t.currentPage)),t.listLoading=!1,t.$notify({title:"成功",message:"保存成功",type:"success",duration:4e3}),t.pageChange(t.currentPage),t.dialogFormVisible=!1,t.update_flag=!0,t.fullscreenLoading=!1}).catch(function(e){t.fullscreenLoading=!1,console.error(e),a.$notify({title:"失败",message:"请刷新页面后重试",type:"error",duration:4e3})})):this.$refs.dataForm.validate(function(e){e&&(t.fullscreenLoading=!0,console.log(d),c(d).then(function(e){t.listLoading=!0,""!=t.hidtimevalue&&(t.timevalue=t.hidtimevalue,t.pageChange(t.currentPage)),t.$notify({title:"成功",message:"保存成功",type:"success",duration:4e3}),t.publish(),t.update_flag=!0}).catch(function(e){a.$notify({title:"失败",message:"请刷新页面后重试",type:"error",duration:4e3})})),t.update_flag=!0}))},compareVersion:function(e,t){for(var a=e.split("."),s=t.split("."),i=Math.min(a.length,s.length),n=0,r=0;n<i&&0==(r=parseInt(a[n])-parseInt(s[n]));)n++;return 0===r&&a.length>s.length&&(r=1),0===r&&a.length<s.length&&(r=-1),r},checkPermission:l.a}},u=(a("Mnjj"),a("KHd+")),k=Object(u.a)(m,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container",staticStyle:{margin:"15px","margin-top":"-5px"}},[a("span",{staticStyle:{"margin-left":"15px","margin-right":"5px"}},[e._v("应用名:")]),e._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:""},model:{value:e.secondary_game,callback:function(t){e.secondary_game=t},expression:"secondary_game"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"15px","margin-right":"5px"}},[e._v("渠道:")]),e._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:""},model:{value:e.secondary_channel,callback:function(t){e.secondary_channel=t},expression:"secondary_channel"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"15px","margin-right":"5px"}},[e._v("包名:")]),e._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:""},model:{value:e.secondary_package,callback:function(t){e.secondary_package=t},expression:"secondary_package"}}),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{"margin-left":"20px"},on:{click:e.searchTable}},[e._v("搜索\n    ")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{height:"760",data:e.list,"element-loading-text":"Loading","row-key":e.getRowKeys,fit:"",stripe:"",border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"包名",prop:"package_name",width:"300px"}}),e._v(" "),a("el-table-column",{attrs:{label:"应用名",prop:"app_name",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"渠道",prop:"channel_mark",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"外部版本-更新",prop:"version_update",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"内部版本-更新",prop:"versioncode_update_version",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",prop:"note"}}),e._v(" "),e.checkPermission(["operatorleader","admin","sdksuport","director","operator"])?a("el-table-column",{attrs:{label:"操作",align:"center",width:"250px","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){e.handleUpdate(t.row)}}},[e._v(e._s("编辑"))]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(a){e.link_Check(t.row)}}},[e._v("查看配置表发布记录")])]}}])}):e._e()],1),e._v(" "),a("el-pagination",{attrs:{"page-size":e.pageSize,layout:"prev, pager, next",total:e.totalPages,"current-page":e.currentPage},on:{"current-change":e.pageChange}}),e._v(" "),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,width:"80%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{"margin-left":"50px"},attrs:{model:e.sdk,"label-position":"left","label-width":"150px",inline:!0,"status-icon":"",id:"form-custom"}},["1"===this.dialogStatus?a("el-form-item",{staticClass:"filter-item",attrs:{label:"时间"}},[a("el-date-picker",{attrs:{type:"datetime",disabled:!0},model:{value:e.sdk.timevalue,callback:function(t){e.$set(e.sdk,"timevalue",t)},expression:"sdk.timevalue"}})],1):e._e(),e._v(" "),"update"===this.dialogStatus?a("el-form-item",{attrs:{label:"包名",rules:[{required:!0,message:"包名不能为空"}],prop:"package_name"}},[a("el-input",{staticClass:"dia-input",attrs:{placeholder:"必填~",disabled:""},model:{value:e.sdk.package_name,callback:function(t){e.$set(e.sdk,"package_name",t)},expression:"sdk.package_name"}})],1):e._e(),e._v(" "),"update"===this.dialogStatus?a("el-form-item",{attrs:{label:"渠道标记",rules:[{required:!0,message:"渠道不能为空"}],prop:"channel_mark"}},[a("el-select",{attrs:{disabled:""},model:{value:e.sdk.channel_mark,callback:function(t){e.$set(e.sdk,"channel_mark",t)},expression:"sdk.channel_mark"}},e._l(e.channel_mark_list_dia,function(e){return a("el-option",{key:e.name,attrs:{label:e.program_mark,value:e.program_mark}})}))],1):e._e(),e._v(" "),"update"===this.dialogStatus?a("el-form-item",{attrs:{label:"游戏名",rules:[{required:!0,message:"游戏名不能为空"}],prop:"app_name"}},[a("el-input",{staticClass:"dia-input",attrs:{placeholder:"必填~"},model:{value:e.sdk.app_name,callback:function(t){e.$set(e.sdk,"app_name",t)},expression:"sdk.app_name"}})],1):e._e(),e._v(" "),"update"===this.dialogStatus?a("el-form-item",{attrs:{label:"发布账号",prop:"keystore"}},[a("el-select",{staticClass:"dia-input",attrs:{placeholder:"请选择",filterable:"","value-key":"keystoreguid"},model:{value:e.sdk.keystore,callback:function(t){e.$set(e.sdk,"keystore",t)},expression:"sdk.keystore"}},e._l(e.keystoreList,function(e){return a("el-option",{key:e.keystoreguid,attrs:{label:e.companyName,value:e}})}))],1):e._e(),e._v(" "),a("div"),e._v(" "),"create"===this.dialogStatus?a("el-form-item",{attrs:{label:"包名",rules:[{required:!0,message:"包名不能为空"}],prop:"package_name"}},[a("el-input",{staticClass:"dia-input",attrs:{placeholder:"必填~"},model:{value:e.sdk.package_name,callback:function(t){e.$set(e.sdk,"package_name",t)},expression:"sdk.package_name"}})],1):e._e(),e._v(" "),"create"===this.dialogStatus?a("el-form-item",{attrs:{label:"渠道标记",rules:[{required:!0,message:"渠道不能为空"}],prop:"channel_mark"}},[a("el-select",{attrs:{filterable:""},model:{value:e.sdk.channel_mark,callback:function(t){e.$set(e.sdk,"channel_mark",t)},expression:"sdk.channel_mark"}},e._l(e.channel_mark_list_dia,function(e){return a("el-option",{key:e.name,attrs:{label:e.program_mark,value:e.program_mark}})}))],1):e._e(),e._v(" "),"update"===this.dialogStatus?a("el-form-item",{staticClass:"filter-item",attrs:{label:"外部版本-在线",rules:[{required:!0,message:"外部版本-在线不能为空"}],prop:"version_online_version"}},[a("el-input",{staticClass:"dia-input",attrs:{placeholder:"必填~",onkeyup:"value=value.replace(/[^\\d{1,}\\.\\d{1,}|\\d{1,}]/g,'')"},model:{value:e.sdk.version_online_version,callback:function(t){e.$set(e.sdk,"version_online_version",t)},expression:"sdk.version_online_version"}})],1):e._e(),e._v(" "),"update"===this.dialogStatus?a("el-form-item",{attrs:{label:"外部版本-更新",rules:[{required:!0,message:"外部版本-更新不能为空"}],prop:"version_update_version"}},[a("el-input",{staticClass:"dia-input",attrs:{placeholder:"必填~",onkeyup:"value=value.replace(/[^\\d{1,}\\.\\d{1,}|\\d{1,}]/g,'')"},model:{value:e.sdk.version_update_version,callback:function(t){e.$set(e.sdk,"version_update_version",t)},expression:"sdk.version_update_version"}})],1):e._e(),e._v(" "),"update"===this.dialogStatus?a("el-form-item",{attrs:{label:"内部版本-在线",rules:[{required:!0,message:"内部版本-在线不能为空"}],prop:"versioncode_online_version"}},[a("el-input",{staticClass:"dia-input",attrs:{placeholder:"必填~"},model:{value:e.sdk.versioncode_online_version,callback:function(t){e.$set(e.sdk,"versioncode_online_version",t)},expression:"sdk.versioncode_online_version"}})],1):e._e(),e._v(" "),"update"===this.dialogStatus?a("el-form-item",{attrs:{label:"内部版本_更新",rules:[{required:!0,message:"内部版本_更新不能为空"}],prop:"versioncode_update_version"}},[a("el-input",{staticClass:"dia-input",attrs:{placeholder:"必填~"},model:{value:e.sdk.versioncode_update_version,callback:function(t){e.$set(e.sdk,"versioncode_update_version",t)},expression:"sdk.versioncode_update_version"}})],1):e._e(),e._v(" "),"update"===this.dialogStatus?a("el-form-item",{attrs:{label:"备注",rules:[{required:!0,message:"默认填写暂无"}],prop:"note"}},[a("el-input",{staticClass:"dia-input",attrs:{placeholder:"必填~",type:"textarea",rows:3},model:{value:e.sdk.note,callback:function(t){e.$set(e.sdk,"note",t)},expression:"sdk.note"}})],1):e._e(),e._v(" "),a("div"),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-upload",{staticClass:"avatar-uploader",staticStyle:{margin:"20px",width:"40%",display:"inline-block"},attrs:{action:e.resPath,accept:".png,.jpg","show-file-list":!1,"on-success":e.uploadSuccess_icon,"before-upload":e.beforeUpload_icon}},[e.imageUrl_icon?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl_icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("此处上传icon,"),a("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:this.imageUrl_icon,target:"_blank",title:"点击查看大图"}},[e._v("点击查看大图")])])]),e._v(" "),a("el-upload",{staticClass:"avatar-uploader",staticStyle:{margin:"20px",width:"50%",display:"inline-block"},attrs:{action:e.resPath,accept:".png,.jpg","show-file-list":!1,"on-success":e.uploadSuccess_splash,"before-upload":e.beforeUpload_splash}},[e.imageUrl_splash?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl_splash}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("此处上传splash,"),a("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:this.imageUrl_splash,target:"_blank",title:"点击查看大图"}},[e._v("点击查看大图")])])])],1),e._v(" "),a("br"),e._v(" "),"update"===this.dialogStatus?a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px","margin-bottom":"10px"},attrs:{placeholder:"SDK模版筛选",clearable:""},on:{change:e.getchannelmarklist},nativeOn:{keyup:function(t){return e.getchannelmarklist(t)}},model:{value:e.sdk_template_name,callback:function(t){e.sdk_template_name=t},expression:"sdk_template_name"}}):e._e(),e._v(" "),"update"===this.dialogStatus?a("el-checkbox-group",{staticStyle:{"border-bottom":"15px"},attrs:{size:"mini"},model:{value:e.checkedSdkTemplate,callback:function(t){e.checkedSdkTemplate=t},expression:"checkedSdkTemplate"}},e._l(e.sdkTemplate,function(t){return a("el-checkbox",{key:t.name,attrs:{label:t.mark,value:t.name,border:""},on:{change:e.findSdkTemplate}},[a("div",{staticClass:"grid-content bg-purple-light",staticStyle:{width:"107px","margin-bottom":"15px"}},[e._v(e._s(t.mark))])])})):e._e(),e._v(" "),a("br"),e._v(" "),a("el-tabs",{staticStyle:{width:"95%","background-color":"#f4f4f5",height:"500px",padding:"1px"},attrs:{"tab-position":"left",id:"test1",type:"border-card"},on:{"tab-click":e.findtabname},model:{value:e.tabname,callback:function(t){e.tabname=t},expression:"tabname"}},e._l(e.checkedSdkTemplate,function(t){return a("el-tab-pane",{key:t,staticStyle:{"font-size":"14px","font-family":"Microsoft YaHei",width:"100%"},attrs:{label:t,name:t}},[a("div",{staticStyle:{height:"500px",overflow:"auto"},attrs:{name:"pane_form"}},[a("a",{staticStyle:{font:"20px Extra large"}},[e._v(e._s(e.sdkModelListName)+"-"+e._s(e.sdkModelListVersion))]),a("br"),a("br"),a("br"),e._v(" "),a("el-divider",{attrs:{"content-position":"right"}}),e._v(" "),a("a",{staticStyle:{font:"14px Extra Small"}},[e._v("参数名")]),e._v("                            \n                          \n            "),a("a",{staticStyle:{font:"14px Extra Small"}},[e._v("参数")]),e._v(" "),a("br"),a("br"),e._v(" "),e.dialog_secondary_visual?a("el-checkbox-group",{staticStyle:{"margin-bottom":"15px"},attrs:{size:"mini"},model:{value:e.dialog_secondary_checked,callback:function(t){e.dialog_secondary_checked=t},expression:"dialog_secondary_checked"}},e._l(e.dialog_secondary_list,function(t){return a("el-checkbox-button",{key:t,staticStyle:{"margin-left":"0px"},attrs:{label:t}},[e._v(e._s(t)+"\n              ")])})):e._e(),e._v(" "),e._l(e.options,function(t){return[e.validName(t.sdk_name)?a("div",{staticStyle:{"font-size":"16px","font-family":"Microsoft YaHei","margin-top":"8px","margin-bottom":"8px"}},[e._v("\n                "+e._s(t.param_name)+":\n                "),a("el-select",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"option.value"}},e._l(t.param,function(e){return a("el-option",{key:e.value,attrs:{value:e.value}})}))],1):e._e()]}),e._v(" "),e._l(e.sdk.form.domains,function(t,s){return e.form_item_filter(t)?a("el-form-item",{key:t.key+s,staticStyle:{"margin-right":"1px"},model:{value:e.page_name,callback:function(t){e.page_name=t},expression:"page_name"}},[a("div",{staticStyle:{width:"700px"}},[a("span",{staticStyle:{"margin-right":"20px","font-size":"14px","font-family":"Microsoft YaHei",width:"200px",display:"inline-block"}},[e._v("\n                  "+e._s(t.param_name1)+"：\n                ")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-right":"25px"},attrs:{placeholder:"必填"},model:{value:t.param,callback:function(a){e.$set(t,"param",a)},expression:"domain.param"}})],1)]):e._e()})],2)])}))],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.updateData(!0)}}},[e._v(e._s("保存"))]),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(t){e.updateData(!1)}}},[e._v("发布")])],1)],1)],1)},[],!1,null,null,null);k.options.__file="projectconfigtable.vue";t.default=k.exports},ZySA:function(e,t,a){"use strict";var s=a("P2sY"),i=a.n(s),n=(a("jUE0"),{bind:function(e,t){e.addEventListener("click",function(a){var s=i()({},t.value),n=i()({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},s),r=n.ele;if(r){r.style.position="relative",r.style.overflow="hidden";var o=r.getBoundingClientRect(),l=r.querySelector(".waves-ripple");switch(l?l.className="waves-ripple":((l=document.createElement("span")).className="waves-ripple",l.style.height=l.style.width=Math.max(o.width,o.height)+"px",r.appendChild(l)),n.type){case"center":l.style.top=o.height/2-l.offsetHeight/2+"px",l.style.left=o.width/2-l.offsetWidth/2+"px";break;default:l.style.top=(a.pageY-o.top-l.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",l.style.left=(a.pageX-o.left-l.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return l.style.backgroundColor=n.color,l.className="waves-ripple z-active",!1}},!1)}}),r=function(e){e.directive("waves",n)};window.Vue&&(window.waves=n,Vue.use(r)),n.install=r;t.a=n},aC73:function(e,t,a){},fQYb:function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"a",function(){return n}),a.d(t,"c",function(){return r});var s=a("t3Un");function i(){return Object(s.a)({url:"/api/companyInfo",method:"get"})}function n(e){return Object(s.a)({url:"/api/companyInfo",method:"post",data:e})}function r(e){return Object(s.a)({url:"/api/companyInfo",method:"patch",data:e})}},jUE0:function(e,t,a){},ytXT:function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"c",function(){return n}),a.d(t,"a",function(){return r}),a.d(t,"d",function(){return o});var s=a("t3Un");function i(){return Object(s.a)({url:"/fileInfo",method:"get"})}function n(){return Object(s.a)({url:"/keystoreInfo",method:"get"})}function r(e){return Object(s.a)({url:"/delFile",method:"delete",data:e})}function o(e){return Object(s.a)({url:"/fileInfo/limit",method:"get",params:e})}}}]);